!function(e){"object"==typeof module&&"object"==typeof module.exports?e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,n,i){"use strict";!function(){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[n[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[i]+"CancelAnimationFrame"]||t[n[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n,i){var o=(new Date).getTime(),a=Math.max(0,16-(o-e)),r=t.setTimeout(function(){n(o+a)},a);return e=o+a,r}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}();var o=function(){var e=t.getComputedStyle(n.documentElement,""),i=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"moz"==i?"Moz":i}();e.fn.simpleParallax=function(n){function i(n){this.name=a,this.$element=n,this.$elementContainer=this.$element.closest(".easy-parallax"),this.init(),this.scrollEvent=this.scrollEvent.bind(this),e(t).on("scroll",this.scrollEvent)}var a="simpleParallax",r={orientation:"up",scale:"1.2"},l=e.extend(r,n),m=!1;return e.extend(i.prototype,{init:function(){var e=this;m||(e.getViewportOffset(),m=!0),e.$element[0].style[o+"Transform"]="scale("+l.scale+")",this.proceedElement()},getViewportOffset:function(){var n=this,i=20;n.viewportHeight=e(t).height(),n.viewportTopX=e(t).scrollTop()-i,n.viewportBottomX=n.viewportTopX+n.viewportHeight+i},getElementOffset:function(){var e=this;e.elementHeight=e.$elementContainer.outerHeight(),e.elementTopX=e.$elementContainer.offset().top,e.elementBottomX=e.elementTopX+e.elementHeight,e.elementImageHeight=e.$element[0].getBoundingClientRect().height,e.elementRange=Math.abs(e.elementHeight-e.elementImageHeight)},isVisible:function(){var e=this;return e.elementTopX>e.viewportTopX&&e.elementTopX<e.viewportBottomX||e.elementBottomX<e.viewportBottomX&&e.elementBottomX>e.viewportTopX||e.elementTopX<e.viewportTopX&&e.elementBottomX>e.viewportBottomX},calculate:function(){var e=this,t=e.elementRange;"down"===l.orientation&&(t*=-1);var n=(e.viewportBottomX-e.elementTopX)/((e.viewportHeight+e.elementHeight)/100);e.translateValue=n/100*t-t/2},animate:function(){var e,t=this;e="scale("+l.scale+") translateY("+t.translateValue+"px)",t.$element[0].style[o+"Transform"]=e},scrollEvent:function(){var e=this;e.getViewportOffset(),e.proceedElement()},proceedElement:function(){var e=this;e.getElementOffset(),e.isVisible()&&(e.calculate(),t.requestAnimationFrame(function(){e.animate()}))}}),this.each(function(){var t=e(this);t.closest("picture").length&&(t=e(this).parent("picture")),t.wrap('<div class="easy-parallax" style="overflow:hidden"></div>'),new i(e(this))})}});